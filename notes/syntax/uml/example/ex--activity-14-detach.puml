@startuml
' detach keyword

:start;
fork
  :foo1;
  :foo2;
fork again
  :foo3;
  detach
fork again
  :jy-add;
  detach
endfork
if (foo4) then
  :foo5;
  detach
endif
:foo6;
detach
:foo7;
stop
@enduml